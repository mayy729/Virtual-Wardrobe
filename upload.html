<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Upload Clothes</title>
        <link rel="icon" type="image/x-icon" href="./favicon.ico?v=1">
        <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico?v=1">
        <link rel="icon" type="image/png" href="./favicon-32.png" sizes="32x32">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <header>
            <h1>üîÆ Upload Your Clothes</h1>
            <p>Upload your clothes, and the system will automatically process them</p>
        </header>

        <nav>
            <ul>
                <li><a href="index.html">üè† Home</a></li>
                <li><a href="wardrobe.html">üëò My Wardrobe</a></li>
                <li><a href="outfit.html">üí´ Create Outfit</a></li>
                <li><a href="saved.html">üß∏ Saved Outfits</a></li>
                <li><a href="help.html">üîç Help</a></li>
                <li><a href="#" id="config-btn">‚öôÔ∏è Settings</a></li>
            </ul>
        </nav>

        <section id="upload">
            <h2>üîÆ Upload New Clothes</h2>
            <form id="upload-form">
                <div class="upload-area">
                    <label for="clothes-upload" class="upload-label">
                        <div class="upload-icon">üì∑</div>
                        <p>Click or drag and drop images here to upload</p>
                        <p class="upload-hint">Only JPG, PNG, GIF, WebP formats are supported, maximum file size is 5MB</p>
                    </label>
                    <input type="file" id="clothes-upload" name="clothes-upload" accept="image/*" multiple required>
                </div>

                <div id="preview-section" class="preview-section" style="display:none;">
                    <h3>Preview and Category Information</h3>
                    <div id="preview-container"></div>
                </div>

                <div id="item-details-form" style="display:none;">
                    <h3>Item Details</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="item-name">Name:</label>
                            <input type="text" id="item-name" placeholder="For example: Pink Dress">
                        </div>

                        <div class="form-group">
                            <label>Season: <span class="form-hint">(Select multiple)</span></label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-season" value="spring">
                                    üåº Spring
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-season" value="summer">
                                    üå¥ Summer
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-season" value="autumn">
                                    üçÇ Autumn
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-season" value="winter">
                                    ‚ùÑÔ∏è Winter
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-season" value="all">
                                    üåè All Seasons
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Occasion: <span class="form-hint">(Select multiple)</span></label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="casual">
                                    üëö Casual
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="date">
                                    üíï Date
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="work">
                                    üíº Work
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="party">
                                    üéâ Party
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="formal">
                                    üëî Formal Occasion
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="sport">
                                    üèÉ Sport
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item-occasion" value="all">
                                    üåè All Occasions
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="item-brand">Brand:</label>
                            <input type="text" id="item-brand" placeholder="For example: ZARA">
                        </div>

                        <div class="form-group">
                            <label for="item-size">Size:</label>
                            <input type="text" id="item-size" placeholder="For example: M / 38">
                        </div>

                        <div class="form-group">
                            <label for="item-material">Material:</label>
                            <input type="text" id="item-material" placeholder="For example: Cotton, Silk">
                        </div>

                        <div class="form-group full-width">
                            <label for="item-notes">Notes:</label>
                            <textarea id="item-notes" placeholder="For example: This necklace is temporarily borrowed from a friend" rows="3"></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label>
                                <input type="checkbox" id="item-wearing-photo">
                                Add wearing photo (optional)
                            </label>
                            <input type="file" id="wearing-photo" accept="image/*" style="display:none;">
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" id="remove-background-btn" class="btn-primary">üé® Auto Cutout</button>
                        <button type="submit" class="btn-primary">üíæ Save Clothes</button>
                        <button type="button" id="cancel-btn" class="btn-secondary">Cancel</button>
                    </div>
                </div>
            </form>
        </section>

        <canvas id="imageCanvas" style="display:none;"></canvas>

        <footer>
            <p>üíñ Created for Ms.C</p>
        </footer>

        <!-- Settings Modal -->
        <div id="config-modal" class="modal" style="display:none;">
            <div class="modal-content settings-modal">
                <span class="close-modal">&times;</span>
                <h2>‚öôÔ∏è Settings</h2>
                
                <!-- Settings Tabs -->
                <div class="settings-tabs">
                    <button class="settings-tab active" data-tab="personal">üìé Personal</button>
                    <button class="settings-tab" data-tab="password">üîí Password</button>
                    <button class="settings-tab" data-tab="api">üåê API</button>
                </div>
                
                <!-- Personal Information Tab -->
                <div id="personal-tab" class="settings-tab-content active">
                    <h3>Personal Information</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Avatar</label>
                            <div class="avatar-section">
                                <div class="avatar-preview">
                                    <img id="avatar-preview" src="" alt="Avatar" style="display:none;">
                                    <div id="avatar-placeholder" class="avatar-placeholder">üìé</div>
                                </div>
                                <input type="file" id="avatar-upload" accept="image/*" style="display:none;">
                                <button type="button" id="upload-avatar-btn" class="btn-secondary">Change Avatar</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="username-input">Username:</label>
                            <input type="text" id="username-input" placeholder="Enter username" />
                            <p class="form-hint">Username must be between 3 and 20 characters</p>
                        </div>
                        <div class="form-group">
                            <button id="save-personal-btn" class="btn-primary">Save Changes</button>
                        </div>
                        <div id="personal-status" class="config-status"></div>
                    </div>
                </div>
                
                <!-- Password Change Tab -->
                <div id="password-tab" class="settings-tab-content">
                    <h3>Change Password</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="old-password-input">Current Password:</label>
                            <input type="password" id="old-password-input" placeholder="Enter current password" />
                        </div>
                        <div class="form-group">
                            <label for="new-password-input">New Password:</label>
                            <input type="password" id="new-password-input" placeholder="Enter new password (at least 6 characters)" />
                        </div>
                        <div class="form-group">
                            <label for="confirm-password-input">Confirm New Password:</label>
                            <input type="password" id="confirm-password-input" placeholder="Confirm new password" />
                        </div>
                        <div class="form-group">
                            <button id="change-password-btn" class="btn-primary">Change Password</button>
                        </div>
                        <div id="password-status" class="config-status"></div>
                    </div>
                </div>
                
                <!-- API Configuration Tab -->
                <div id="api-tab" class="settings-tab-content">
                    <h3>API Configuration</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="api-base-input">API Base URL:</label>
                            <input type="text" id="api-base-input" placeholder="https://virtual-wardrobe-api.onrender.com" />
                            <p class="form-hint">Current value: <span id="current-api-base"></span></p>
                        </div>
                        <div class="form-group">
                            <button id="test-connection-btn" class="btn-secondary">Test Connection</button>
                            <button id="save-config-btn" class="btn-primary">Save Configuration</button>
                            <button id="reset-config-btn" class="btn-secondary">Reset to Default</button>
                        </div>
                        <div id="config-status" class="config-status"></div>
                    </div>
                </div>
                
                <!-- Logout Section -->
                <div class="settings-footer">
                    <button id="logout-btn" class="btn-logout">Logout</button>
                </div>
            </div>
        </div>

        <script src="config.js"></script>
        <script src="api.js"></script>
        <script src="auth.js"></script>
        <script src="script.js"></script>
        <script src="upload-script.js"></script>
        <script src="settings-ui.js"></script>
    </body>
</html>