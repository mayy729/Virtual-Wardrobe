# 测试文档 - Virtual Wardrobe System

## 测试概述

本文档记录了虚拟衣柜系统的性能、兼容性和响应式测试方法和结果。

---

## 1. 性能测试

### 1.1 测试目标
- 确保系统支持至少 100 件衣物无显著卡顿
- 页面加载时间在 3 秒内
- 搜索和筛选操作流畅（使用节流）

### 1.2 测试方法

#### 1.2.1 分页性能测试
**测试步骤：**
1. 启动后端服务器：`cd server && npm run dev`
2. 打开浏览器开发者工具（F12）
3. 切换到 Performance 标签
4. 上传至少 100 件衣物（或使用测试数据）
5. 打开衣柜页面，记录：
   - 初始加载时间
   - 分页切换时间
   - 内存使用情况

**预期结果：**
- 初始加载时间 < 2 秒
- 分页切换时间 < 500ms
- 内存使用稳定，无明显泄漏

**测试工具：**
- Chrome DevTools Performance 面板
- Chrome DevTools Memory 面板

#### 1.2.2 搜索性能测试
**测试步骤：**
1. 在衣柜页面输入搜索关键词
2. 使用 Performance 面板记录输入事件
3. 检查节流是否生效（250ms 延迟）

**预期结果：**
- 输入时不会立即触发搜索
- 停止输入 250ms 后才执行搜索
- 搜索结果渲染时间 < 300ms

**验证方法：**
```javascript
// 在浏览器控制台检查
console.log('节流已启用，延迟 250ms');
```

#### 1.2.3 图片懒加载测试
**测试步骤：**
1. 打开衣柜页面（包含多页数据）
2. 检查图片标签是否有 `loading="lazy"` 属性
3. 滚动页面，观察图片是否按需加载

**预期结果：**
- 初始只加载可见区域的图片
- 滚动时图片按需加载
- 减少初始页面加载时间

---

## 2. 兼容性测试

### 2.1 测试目标
确保网站在以下浏览器中正常工作：
- Google Chrome（最新版本）
- Safari（最新版本）
- Firefox（最新版本）
- Microsoft Edge（最新版本）

### 2.2 测试清单

#### 2.2.1 Google Chrome
**测试日期：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 首页加载 | ☐ 通过 ☐ 失败 | |
| 上传衣物 | ☐ 通过 ☐ 失败 | |
| 查看衣柜 | ☐ 通过 ☐ 失败 | |
| 创建搭配 | ☐ 通过 ☐ 失败 | |
| 保存搭配 | ☐ 通过 ☐ 失败 | |
| 搜索筛选 | ☐ 通过 ☐ 失败 | |
| 分页功能 | ☐ 通过 ☐ 失败 | |

**浏览器版本：** _______________

#### 2.2.2 Safari
**测试日期：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 首页加载 | ☐ 通过 ☐ 失败 | |
| 上传衣物 | ☐ 通过 ☐ 失败 | |
| 查看衣柜 | ☐ 通过 ☐ 失败 | |
| 创建搭配 | ☐ 通过 ☐ 失败 | |
| 保存搭配 | ☐ 通过 ☐ 失败 | |
| 搜索筛选 | ☐ 通过 ☐ 失败 | |
| 分页功能 | ☐ 通过 ☐ 失败 | |

**浏览器版本：** _______________

#### 2.2.3 Firefox
**测试日期：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 首页加载 | ☐ 通过 ☐ 失败 | |
| 上传衣物 | ☐ 通过 ☐ 失败 | |
| 查看衣柜 | ☐ 通过 ☐ 失败 | |
| 创建搭配 | ☐ 通过 ☐ 失败 | |
| 保存搭配 | ☐ 通过 ☐ 失败 | |
| 搜索筛选 | ☐ 通过 ☐ 失败 | |
| 分页功能 | ☐ 通过 ☐ 失败 | |

**浏览器版本：** _______________

#### 2.2.4 Microsoft Edge
**测试日期：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 首页加载 | ☐ 通过 ☐ 失败 | |
| 上传衣物 | ☐ 通过 ☐ 失败 | |
| 查看衣柜 | ☐ 通过 ☐ 失败 | |
| 创建搭配 | ☐ 通过 ☐ 失败 | |
| 保存搭配 | ☐ 通过 ☐ 失败 | |
| 搜索筛选 | ☐ 通过 ☐ 失败 | |
| 分页功能 | ☐ 通过 ☐ 失败 | |

**浏览器版本：** _______________

### 2.3 文件格式支持测试

**测试步骤：**
1. 尝试上传不同格式的图片文件
2. 记录哪些格式被接受，哪些被拒绝

| 文件格式 | 测试结果 | 备注 |
|---------|---------|------|
| JPG/JPEG | ☐ 通过 ☐ 失败 | |
| PNG | ☐ 通过 ☐ 失败 | |
| GIF | ☐ 通过 ☐ 失败 | |
| WebP | ☐ 通过 ☐ 失败 | |
| BMP | ☐ 通过 ☐ 失败 | 预期：拒绝 |
| SVG | ☐ 通过 ☐ 失败 | 预期：拒绝 |

---

## 3. 响应式设计测试

### 3.1 测试目标
确保网站在不同设备上显示正常：
- 桌面端（> 768px）
- 平板端（481px - 768px）
- 手机端（≤ 480px）

### 3.2 测试方法

#### 3.2.1 Chrome DevTools 设备模拟
**测试步骤：**
1. 打开 Chrome DevTools（F12）
2. 点击设备工具栏图标（Ctrl+Shift+M）
3. 选择不同设备进行测试：
   - iPhone 12 Pro (390x844)
   - iPad Air (820x1180)
   - Desktop (1920x1080)

#### 3.2.2 响应式断点测试

**断点 1: 768px（平板）**
- ☐ 导航栏变为垂直布局
- ☐ 衣柜网格调整为单列或两列
- ☐ 筛选器变为单列布局
- ☐ 分页按钮垂直排列

**断点 2: 480px（手机）**
- ☐ 字体大小适当缩小
- ☐ 按钮全宽显示
- ☐ 模态框宽度调整为 95%
- ☐ 上传区域内边距减小

### 3.3 实际设备测试

#### 3.3.1 移动设备测试
**设备型号：** _______________
**操作系统：** _______________
**浏览器：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 页面布局 | ☐ 通过 ☐ 失败 | |
| 触摸操作 | ☐ 通过 ☐ 失败 | |
| 图片上传 | ☐ 通过 ☐ 失败 | |
| 表单输入 | ☐ 通过 ☐ 失败 | |
| 导航菜单 | ☐ 通过 ☐ 失败 | |

#### 3.3.2 平板设备测试
**设备型号：** _______________
**操作系统：** _______________
**浏览器：** _______________

| 功能 | 测试结果 | 备注 |
|------|---------|------|
| 页面布局 | ☐ 通过 ☐ 失败 | |
| 触摸操作 | ☐ 通过 ☐ 失败 | |
| 图片上传 | ☐ 通过 ☐ 失败 | |
| 表单输入 | ☐ 通过 ☐ 失败 | |
| 导航菜单 | ☐ 通过 ☐ 失败 | |

---

## 4. 页面加载时间测试

### 4.1 测试方法
使用 Chrome DevTools Network 面板：
1. 打开 DevTools（F12）
2. 切换到 Network 标签
3. 勾选 "Disable cache"
4. 刷新页面（Ctrl+R）
5. 记录以下指标：
   - DOMContentLoaded 时间
   - Load 时间
   - 总资源大小

### 4.2 测试结果

| 页面 | DOMContentLoaded | Load | 总大小 | 状态 |
|------|------------------|------|--------|------|
| index.html | _____ ms | _____ ms | _____ KB | ☐ 通过 |
| upload.html | _____ ms | _____ ms | _____ KB | ☐ 通过 |
| wardrobe.html | _____ ms | _____ ms | _____ KB | ☐ 通过 |
| outfit.html | _____ ms | _____ ms | _____ KB | ☐ 通过 |
| saved.html | _____ ms | _____ ms | _____ KB | ☐ 通过 |

**预期结果：** 所有页面 Load 时间 < 3000ms

---

## 5. 性能优化验证

### 5.1 已实现的优化
- ✅ 分页功能（每页 20 项）
- ✅ 搜索节流（250ms 延迟）
- ✅ 图片懒加载（`loading="lazy"`）
- ✅ 分页时滚动到顶部

### 5.2 性能指标

**100+ 衣物测试：**
- 初始加载时间：_____ ms
- 分页切换时间：_____ ms
- 搜索响应时间：_____ ms
- 内存使用：_____ MB

**预期：**
- 无明显卡顿
- 内存使用稳定
- 交互响应流畅

---

## 6. 测试总结

### 6.1 通过的功能
- [ ] 性能测试全部通过
- [ ] 兼容性测试全部通过
- [ ] 响应式测试全部通过
- [ ] 页面加载时间符合要求

### 6.2 发现的问题
1. _________________________________________________
2. _________________________________________________
3. _________________________________________________

### 6.3 改进建议
1. _________________________________________________
2. _________________________________________________
3. _________________________________________________

---

## 7. 测试工具推荐

1. **Chrome DevTools**
   - Performance 面板：性能分析
   - Network 面板：加载时间
   - Memory 面板：内存使用
   - Device Toolbar：响应式测试

2. **Lighthouse**
   - 性能评分
   - 可访问性评分
   - 最佳实践建议

3. **BrowserStack / Sauce Labs**
   - 跨浏览器测试
   - 真实设备测试

---

**测试人员：** _______________
**测试日期：** _______________
**测试版本：** _______________

